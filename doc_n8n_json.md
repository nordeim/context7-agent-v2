Based on the comprehensive documentation from n8n's official docs, here's what you need to know about JSON format in n8n:                                                                                                                │
                                                                                                                                                                                                                                         │
## n8n JSON Format Overview                                                                                                                                                                                                              │
                                                                                                                                                                                                                                         │
### Standard Data Structure                                                                                                                                                                                                              │
n8n uses a specific JSON structure for data flowing between nodes:                                                                                                                                                                       │
                                                                                                                                                                                                                                         │
```json                                                                                                                                                                                                                                  │
[                                                                                                                                                                                                                                        │
  {                                                                                                                                                                                                                                      │
    "json": {                                                                                                                                                                                                                            │
      "key1": "value1",                                                                                                                                                                                                                  │
      "key2": "value2"                                                                                                                                                                                                                   │
    },                                                                                                                                                                                                                                   │
    "binary": {                                                                                                                                                                                                                          │
      "file-key": {                                                                                                                                                                                                                      │
        "data": "...",                                                                                                                                                                                                                   │
        "mimeType": "image/png",                                                                                                                                                                                                         │
        "fileExtension": "png",                                                                                                                                                                                                          │
        "fileName": "example.png"                                                                                                                                                                                                        │
      }                                                                                                                                                                                                                                  │
    }                                                                                                                                                                                                                                    │
  }                                                                                                                                                                                                                                      │
]                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
**Key Points:**                                                                                                                                                                                                                          │
- **Required Structure**: Data must be wrapped in an array of objects                                                                                                                                                                    │
- **json key**: Contains the actual data payload (required)                                                                                                                                                                              │
- **binary key**: Optional, for file attachments and binary data                                                                                                                                                                         │
                                                                                                                                                                                                                                         │
### Common JSON Formats in n8n                                                                                                                                                                                                           │
                                                                                                                                                                                                                                         │
#### 1. **Webhook Data Format**                                                                                                                                                                                                          │
```json                                                                                                                                                                                                                                  │
[                                                                                                                                                                                                                                        │
  {                                                                                                                                                                                                                                      │
    "headers": {...},                                                                                                                                                                                                                    │
    "params": {},                                                                                                                                                                                                                        │
    "query": {},                                                                                                                                                                                                                         │
    "body": {                                                                                                                                                                                                                            │
      "name": "Jim",                                                                                                                                                                                                                     │
      "age": 30,                                                                                                                                                                                                                         │
      "city": "New York"                                                                                                                                                                                                                 │
    }                                                                                                                                                                                                                                    │
  }                                                                                                                                                                                                                                      │
]                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
#### 2. **Configuration Files**                                                                                                                                                                                                          │
```json                                                                                                                                                                                                                                  │
{                                                                                                                                                                                                                                        │
  "executions": {                                                                                                                                                                                                                        │
    "saveDataOnSuccess": "none"                                                                                                                                                                                                          │
  },                                                                                                                                                                                                                                     │
  "generic": {                                                                                                                                                                                                                           │
    "timezone": "Europe/Berlin"                                                                                                                                                                                                          │
  },                                                                                                                                                                                                                                     │
  "nodes": {                                                                                                                                                                                                                             │
    "exclude": "[\"n8n-nodes-base.executeCommand\"]"                                                                                                                                                                                     │
  }                                                                                                                                                                                                                                      │
}                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
#### 3. **Workflow Definition**                                                                                                                                                                                                          │
```json                                                                                                                                                                                                                                  │
{                                                                                                                                                                                                                                        │
  "name": "My Workflow",                                                                                                                                                                                                                 │
  "nodes": [...],                                                                                                                                                                                                                        │
  "connections": {...},                                                                                                                                                                                                                  │
  "active": false,                                                                                                                                                                                                                       │
  "settings": {}                                                                                                                                                                                                                         │
}                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
### JSON Formatting Best Practices                                                                                                                                                                                                       │
                                                                                                                                                                                                                                         │
#### **HTTP Request Node JSON Parameters**                                                                                                                                                                                               │
When using expressions in HTTP Request nodes, wrap JSON in double curly brackets:                                                                                                                                                        │
```json                                                                                                                                                                                                                                  │
{{                                                                                                                                                                                                                                       │
  {                                                                                                                                                                                                                                      │
    "myjson": {                                                                                                                                                                                                                          │
      "name1": "value1",                                                                                                                                                                                                                 │
      "name2": "value2",                                                                                                                                                                                                                 │
      "array1": ["value1", "value2"]                                                                                                                                                                                                     │
    }                                                                                                                                                                                                                                    │
  }                                                                                                                                                                                                                                      │
}}                                                                                                                                                                                                                                       │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
#### **Code Node Output Format**                                                                                                                                                                                                         │
Always return data in the correct format:                                                                                                                                                                                                │
```javascript                                                                                                                                                                                                                            │
return [                                                                                                                                                                                                                                 │
  {                                                                                                                                                                                                                                      │
    json: {                                                                                                                                                                                                                              │
      apple: 'beets',                                                                                                                                                                                                                    │
      carrot: { dill: 1 }                                                                                                                                                                                                                │
    }                                                                                                                                                                                                                                    │
  }                                                                                                                                                                                                                                      │
];                                                                                                                                                                                                                                       │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
### Data Transformation Examples                                                                                                                                                                                                         │
                                                                                                                                                                                                                                         │
#### **Transforming Arrays to JSON**                                                                                                                                                                                                     │
```javascript                                                                                                                                                                                                                            │
const items = $input.all();                                                                                                                                                                                                              │
const usernames = items.map((item) => `"${item.json.username}"`);                                                                                                                                                                        │
const result = usernames.join(", ");                                                                                                                                                                                                     │
return [{ json: { usernames: result } }];                                                                                                                                                                                                │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
#### **Using JMESPath for JSON Queries**                                                                                                                                                                                                 │
```javascript                                                                                                                                                                                                                            │
// Extract first names from people array                                                                                                                                                                                                 │
{{$jmespath($json.body.people, "[*].first")}}                                                                                                                                                                                            │
// Returns: ["James", "Jacob", "Jayden"]                                                                                                                                                                                                 │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
### Common JSON Formats by Use Case                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
#### **Form Field Configuration**                                                                                                                                                                                                        │
```json                                                                                                                                                                                                                                  │
[                                                                                                                                                                                                                                        │
  {                                                                                                                                                                                                                                      │
    "fieldLabel": "Email",                                                                                                                                                                                                               │
    "fieldType": "email",                                                                                                                                                                                                                │
    "placeholder": "me@mail.com"                                                                                                                                                                                                         │
  },                                                                                                                                                                                                                                     │
  {                                                                                                                                                                                                                                      │
    "fieldLabel": "Dropdown Options",                                                                                                                                                                                                    │
    "fieldType": "dropdown",                                                                                                                                                                                                             │
    "fieldOptions": {                                                                                                                                                                                                                    │
      "values": [                                                                                                                                                                                                                        │
        {"option": "option 1"},                                                                                                                                                                                                          │
        {"option": "option 2"}                                                                                                                                                                                                           │
      ]                                                                                                                                                                                                                                  │
    }                                                                                                                                                                                                                                    │
  }                                                                                                                                                                                                                                      │
]                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
#### **File Processing Output**                                                                                                                                                                                                          │
```json                                                                                                                                                                                                                                  │
{                                                                                                                                                                                                                                        │
  "row": {                                                                                                                                                                                                                               │
    "0": "apple",                                                                                                                                                                                                                        │
    "1": "1",                                                                                                                                                                                                                            │
    "2": "2",                                                                                                                                                                                                                            │
    "3": "3"                                                                                                                                                                                                                             │
  }                                                                                                                                                                                                                                      │
}                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
### Error Prevention                                                                                                                                                                                                                     │
                                                                                                                                                                                                                                         │
#### **Incorrect vs Correct JSON Structure**                                                                                                                                                                                             │
**❌ Incorrect:**                                                                                                                                                                                                                        │
```json                                                                                                                                                                                                                                  │
[                                                                                                                                                                                                                                        │
  {                                                                                                                                                                                                                                      │
    "json": []  // Array instead of object                                                                                                                                                                                               │
  }                                                                                                                                                                                                                                      │
]                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
**✅ Correct:**                                                                                                                                                                                                                          │
```json                                                                                                                                                                                                                                  │
[                                                                                                                                                                                                                                        │
  {                                                                                                                                                                                                                                      │
    "json": {}  // Object as expected                                                                                                                                                                                                    │
  }                                                                                                                                                                                                                                      │
]                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
### API Integration Formats                                                                                                                                                                                                              │
                                                                                                                                                                                                                                         │
#### **Custom Authentication JSON**                                                                                                                                                                                                      │
```json                                                                                                                                                                                                                                  │
{                                                                                                                                                                                                                                        │
  "headers": {                                                                                                                                                                                                                           │
    "X-AUTH-USERNAME": "username",                                                                                                                                                                                                       │
    "X-AUTH-PASSWORD": "password"                                                                                                                                                                                                        │
  },                                                                                                                                                                                                                                     │
  "body": {                                                                                                                                                                                                                              │
    "user": "username",                                                                                                                                                                                                                  │
    "pass": "password"                                                                                                                                                                                                                   │
  }                                                                                                                                                                                                                                      │
}                                                                                                                                                                                                                                        │
```                                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                         │
This comprehensive guide covers the essential JSON formats used throughout n8n workflows, from basic data structures to advanced transformations and configurations.
